/*
Kevin Stich
Programming Example
Calculation Code Test
*/

#include <iostream>
#include <time.h>
using namespace std;

float calculate(float);
//Dummy varibales for the equation
float a[6] = {6,5,4,3,2,1};

int main() {
   //clock_t objects used to calculate time for the algorithm
   clock_t start, end;

   //Loop variables
   int i;
   float j;

   cout << "y = a[0] + a[1]x + a[2](x^2) + a[3](x^3) + a[4](x^4) + a[5](x^5)" << endl;
   cout << "For these trials:" << endl << "x = 1...10" << endl;
   cout << "a = {6,5,4,3,2,1}" << endl << endl;

   cout << "Calculation will proceed after the break" << endl;

   //Pause for display
	system("PAUSE");

   //Get the current clock before it starts calculating
	start = clock();

   //Perform ten million calculations
   for(i=0; i<1000000; i++) {
      for(j=1; j<=10; j++) {
         float y = calculate(j);
      }
   }
   
   //Get the current clock after it's finished calculating
   end = clock();

   //Print the time it took to run the algorithm
   cout << "Time for 10000000 calculations: " << (double)(end-start)/CLOCKS_PER_SEC << "s\n\n";

   //Pause for display
   system("PAUSE");
   return 0;
}

float calculate(float x) {
   //Creating a temporary variable will save us multiplication cycles by storing the previous product
   //At this point tempX is x to the power of 1
   float tempX = x;
   //Calculate the first two sections of the equation
   float y = a[0] + a[1]*tempX;
   //Make tempX equal x to the power of 2
   tempX *= x;
   //Add the third calculation into Y
   y += a[2]*tempX;
   //Make tempX equal x to the power of 3
   tempX *= x;
   //Add the fourth calculation into Y
   y += a[3]*tempX;
   //Make tempX equal x to the power of 4
   tempX *= x;
   //Add the fifth calculation into Y
   y += a[4]*tempX;
   //Make tempX equal x to the power of 5
   tempX *= x;
   //Add the sixth calculation into Y
   y += a[5]*tempX;
   return y;
}